use metaverse_messages::packet::{packet::Packet, packet_types::PacketType};
use uuid::{Uuid, uuid};
const PACKET: [u8; 169] = [
    192, 0, 3, 4, 0, 1, 12, 0, 1, 232, 3, 0, 2, 232, 3, 0, 1, 255, 255, 1, 246, 81, 208, 22, 0, 1,
    157, 193, 139, 177, 4, 79, 76, 104, 144, 107, 44, 182, 8, 178, 225, 151, 0, 4, 47, 4, 0, 1,
    102, 102, 230, 62, 154, 153, 25, 63, 56, 21, 219, 63, 76, 0, 14, 128, 63, 94, 43, 0, 1, 67,
    216, 1, 0, 1, 67, 7, 137, 126, 63, 0, 32, 42, 166, 173, 60, 0, 46, 78, 0, 1, 70, 105, 114, 115,
    116, 78, 97, 109, 101, 32, 83, 84, 82, 73, 78, 71, 32, 82, 87, 32, 83, 86, 32, 100, 101, 102,
    97, 117, 108, 116, 10, 76, 97, 115, 116, 78, 97, 109, 101, 32, 83, 84, 82, 73, 78, 71, 32, 82,
    87, 32, 83, 86, 32, 117, 115, 101, 114, 10, 84, 105, 116, 108, 101, 32, 83, 84, 82, 73, 78, 71,
    32, 82, 87, 32, 83, 86, 32, 0, 77,
];

const FAILED_PACKET: [u8; 160] = [
    192, 0, 0, 0, 18, 0, 12, 0, 1, 66, 39, 0, 2, 162, 40, 0, 1, 255, 255, 1, 0, 1, 88, 126, 29, 0,
    1, 254, 189, 105, 110, 131, 188, 70, 110, 171, 72, 99, 132, 234, 103, 190, 207, 134, 110, 176,
    52, 9, 3, 0, 1, 59, 168, 95, 64, 59, 168, 95, 64, 51, 55, 191, 63, 60, 78, 11, 16, 192, 97,
    108, 241, 63, 74, 206, 117, 63, 0, 24, 161, 229, 9, 190, 140, 126, 131, 189, 255, 92, 104, 189,
    0, 12, 244, 87, 126, 29, 80, 4, 2, 0, 1, 16, 0, 20, 139, 185, 81, 0, 1, 156, 121, 63, 206, 185,
    185, 252, 31, 157, 217, 131, 66, 101, 155, 250, 66, 6, 175, 106, 234, 76, 211, 138, 78, 48,
    191, 151, 160, 125, 88, 202, 154, 228, 0, 1, 80, 0, 6, 64, 65, 0, 1, 102, 102, 102, 63, 0, 10,
    32, 0, 101,
];

const DEFAULT_USER_ID: Uuid = uuid!("9dc18bb1044f4c68906b2cb608b2e197");
#[test]
pub fn test_object_update() {
    //let object_update = Packet::from_bytes(&PACKET).unwrap();

    let object_update = Packet::from_bytes(&FAILED_PACKET).unwrap();
    match object_update.body {
        PacketType::ObjectUpdate(object) => {
            assert_eq!(object.full_id, DEFAULT_USER_ID)
        }
        _ => assert!(false),
    }
}
